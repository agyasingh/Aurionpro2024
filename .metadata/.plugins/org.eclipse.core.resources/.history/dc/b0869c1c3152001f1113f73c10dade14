package com.aurionpro.test;



import java.util.List;
import java.util.Scanner;

import com.aurionpro.model.Book;
import com.aurionpro.model.EmailBookNotfier;
import com.aurionpro.model.Library;
import com.aurionpro.model.SMSBookNotifier;
import com.aurionpro.model.WhatsappBookNotifier;

public class User {
	public static Scanner scanner=new Scanner(System.in);
		
	public static String user="aagya";
	public static Library library;
	static Book book;
	public static List<String> action;
	public static void main(String[] args) {
		
		BookCreation();	
		AskUser();
		
	}
	
	
	
	

	public static void BookCreation(){
		System.out.println("Enter the number of books you want to create");
		int numberofbooks=scanner.nextInt();
		for(int i=0;i<numberofbooks;i++) {
			System.out.println("Enter title of book");
			String title=scanner.next();

			System.out.println("Author name");
			String authorname=scanner.next();
				
			book=new Book(title,authorname);
			library=new Library(book);
			ChoseAction(book,library);
		}
		
		
	}
	private static void ChoseAction(Book book2, Library library2) {
		// TODO Auto-generated method stub
		System.out.println("Which action you want to perform");
		System.out.println("1. Add book");
		System.out.println("2. Remove book");
		System.out.println("3. Borrow Book");
		System.out.println("4.Return book");
		int choice=scanner.nextInt();
		switch(choice) {
		case 1: 
			System.out.println("Enter title");
			String title=scanner.next();
			System.out.println("Enter author name");
			String authorname=scanner.next();
			
			action.add(library.addBook(new Book(title,authorname)));
			library.notifybooknotfiers(book, user, action);
		
		}
	}





	private static void AskUser() {
		// TODO Auto-generated method stub
		System.out.println("Where do you want notification. 1.Email, 2.SMS, 3.Whatsapp");
		int choice=scanner.nextInt();
		
		if(choice==1) {
			library.registerbooknotifiers(new EmailBookNotfier());
		}
		else if(choice==2) {
			library.registerbooknotifiers(new SMSBookNotifier());
		}
		else if(choice==3) {
			library.registerbooknotifiers(new WhatsappBookNotifier());
			}
	}
}
