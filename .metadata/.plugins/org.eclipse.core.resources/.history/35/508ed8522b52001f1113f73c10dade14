package com.aurionpro.model;
import java.util.List;

public class Library {
	
	List<Book> books;
	List<IBookNotifier> booknotifiers;
	
	
	
	public Library(List<Book> books, List<IBookNotifier> booknotifiers) {
		super();
		this.books = books;
		this.booknotifiers = booknotifiers;
	}
	//state of book changes notify the notifiers
	
	
	public List<Book> getBooks() {
		return books;
	}

	public void setBooks(List<Book> books) {
		this.books = books;
	}

	public List<IBookNotifier> getNotifiers() {
		return booknotifiers;
	}

	public void setNotifiers(List<IBookNotifier> notifiers) {
		this.booknotifiers = notifiers;
	}
	
	public void addBook(Book book) {
		books.add(book);
	}
	

	public void removeBook(Book book) {
		books.remove(book);
	}
	
	public void borrowBook(Book book, String user){
		books.remove(book);
	}
	
	public void returnBook(Book book,String user) {
		books.add(book);
	}
	//state change
	//list of notifiers
	public void registerbooknotifiers(IBookNotifier booknotifier){
		booknotifiers.add(booknotifier);
	}
	
	//notify
	public void notifybooknotfiers(Book book,String user,String action) {
		for(IBookNotifier booknotifier:booknotifiers) {
			booknotifier.notify(this,book,user,action);
		}
	}

}
